% Filename: chap03@camecc_lic.tex
% This code is part of 'Cursos CAMECC: Introducao ao LaTeX para o Curso 29 - Licenciatura em Matematica'
% 
% Description: This file correspond to the chapter 01 of the textbook using in the course.
% 
% Created: 07.06.12 11:30:49 AM
% Last Change: 07.06.12 11:30:53 AM
% 
% Authors:
% - Raniere Silva, r.gaia.cs@gmail.com
% 
% Organization: CAMECC - Centro Academico dos Estudantes do IMECC
% 
% Copyright (c) 2012, Raniere Silva. All rights reserved.
% 
% This work is licensed under the Creative Commons Attribution-ShareAlike 3.0 Unported License. To view a copy of this license, visit http://creativecommons.org/licenses/by-sa/3.0/ or send a letter to Creative Commons, 444 Castro Street, Suite 900, Mountain View, California, 94041, USA.
%
% This work is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
%
\chapter{Matem\'{a}tica no \LaTeX, amsmath} \label{sch:math}
Neste capítulo abordaremos o modo matemático do LaTeX, com uma \^{e}nfase nos pacotes amsmath\index{pacote!amsmath@\pkgname{amsmath}}, amsfonts, amssymb e amsthm.

\section{Modo matemático}
Para que expressões matemáticas seja processadas corretamentes, deve-se mudar do modo texto para o modo matemático, o que pode ser feito de várias maneiras.

A apresentação de expressões matemáticas pode ocorrer de duas maneiras: \flang{inline}\index{modo matematico@modo matem\'{a}tico!inline@\flang{inline}}, quando aparecem na mesma linha do texto, e \flang{displayed}\index{modo matematico@modo matem\'{a}tico!displayed@\flang{displayed}}, quando aparecem em uma linha própria e centralizada (podendo ou n\~{a}o ser numerada\footnote{Deve-se numerar apenas equa\c{c}\~{o}es as quais ser\~{a}o feita refer\^{e}ncias posteriormente.}).

A seguir, informaremos como proceder para produzir expressões matemáticas \flang{inline} ou \flang{displayed}. Ao final, apresentaremos algumas dicas sobre o uso de express\~{o}es \flang{inline} e \flang{displayed}.

\subsection{\flang{Inline}}
Expressões matemáticas \flang{inline}\index{modo matematico@modo matem\'{a}tico!inline@\flang{inline}} devem ser iniciadas por \lstinline!$! e fechadas por \lstinline!$! ou iniciadas por \lstinline!\)! e fechadas por \lstinline!\)!. \\
\example{codes/math_inline@latex_with_vim.tex}

\subsection{\flang{Displayed}}
Expressões matemáticas \flang{displayed}\index{modo matematico@modo matem\'{a}tico!displayed@\flang{displayed}} devem ser iniciadas por \lstinline!$$! e fechadas por \lstinline!$$! ou iniciadas por \lstinline!\[! e fechadas por \lstinline!\]!. \\
\example{codes/math_display@latex_with_vim.tex}

Alguns ambientes, como \envname{equation}, \envname{eqnarray} e \envname{align}, também produzem expressões matemáticas \flang{displayed}.

\subsection{Uso de \flang{inline} e \flang{displayed}}
Um \'{o}timo resumo sobre quando usar express\~{o}es \flang{inline} e \flang{displayed} encontra-se em \url{http://www.math.uiuc.edu/~hildebr/tex/displays.html}\nocite{Hildebrand:TeX_Resoures} e a seguir apresentaremos tradu\c{c}\~{a}o de alguns trechos. Para maiores detalhes recomenda-se uma leitura na obra ``Mathematics Into Type''\nocite{Swanson:1999:Mathematics}.

Express\~{o}es \flang{inline} s\~{a}o ``feias'' quando apresentam fra\c{c}\~{o}es, somat\'{o}rios, integrais, \ldots e algumas vezes precisam de um cuidado especial para respeitarem as margens. Entretanto, deve-se preferir utilizar express\~{o}es \flang{displayed} apenas nas seguintes ocasi\~{o}es:
\begin{itemize}
    \item a express\~{a}o \'{e} longa (ocupa mais da metade de uma linha);
    \item a express\~{a}o requer bastante espa\c{c}o vertical, i.e., possue v\'{a}rias fra\c{c}\~{o}es, somat\'{o}rios, integrais, \ldots;
    \item a equa\c{c}\~{a}o ser\'{a} numerada;
    \item a express\~{a}o que voc\^{e} deseja destacar/enfatizar.
\end{itemize}

\section{Primeiros comandos no modo matemático}
A seguir enunciaremos como proceder para produzir as primeiras equações, mas antes é importante saber que o modo matemático ignora qualquer espaço (para inserir um espa\c{c}o em branco no modo matem\'{a}tico veja a se\c{c}\~{a}o \ref{sss:math:textos_e_espacamentos}).

\subsection{Operações aritméticas básicas}
As operações aritméticas básicas\index{modo matematico@modo matem\'{a}tico!operacoes aritmeticas basicas@opera\c{c}\~{o}es aritm\'{e}ticas b\'{a}sicas} são escritas normalmente, exceto pela multiplicação que utiliza-se dos comandos \lstinline!\times! ou \lstinline!\cdot!\footnote{O uso do comando mais adequado depende muito do campo de estudo.} e das frações representada pelo comando \lstinline!\frac!\footnote{Deve-se ponderar o uso deste comando por quest\~{a}o de legibilidade.}. \\
\example{codes/math_powers_indices@latex_with_vim.tex}

\subsection{Índices e expoentes}
\'{I}ndices\index{modo matematico@modo matem\'{a}tico!indice@\'{i}ndice} e expoentes\index{modo matematico@modo matem\'{a}tico!expoente} são indicados pelos respectivos comandos: \flang{underscore}, \lcode{_}, e \flang{caret}, \lcode{^}. Por padrão apenas o primeiro símbolo depois do comando é alterado, quando for necessário mais de um símbolo deve-se utilizar chaves.

O símbolo \flang{prime}, muito utilizado para derivadas, já vem posicionado corretamente.\footnote{Algumas vezes deve-se preferir utilizar o comando \lcode{prime} em conjunto com \flang{underscore} e/ou \flang{caret}.} \\
\example{codes/math_powers_indices@latex_with_vim.tex}

\subsection{Acentos}
Os acentos\index{modo matematico@modo matem\'{a}tico!acento} disponíveis no modo matemático são apresentados na Tabela~\ref{tab:math_accents}.
\begin{table}[h!tb]
    \centering
    \caption{Acentos disponíveis no modo matemático.}
    \label{tab:math_accents}
    \input{tables/math_accents@latex_with_vim.tex}
\end{table}

\subsection{Delimitadores}
Parênteses\index{modo matematico@modo matem\'{a}tico!parenteses@par\^{e}nteses|see{delimitadores}}, colchetes\index{modo matematico@modo matem\'{a}tico!colchetes|see{delimitadores}} e chaves\index{modo matematico@modo matem\'{a}tico!chaves|see{delimitadores}} são exemplos de delimitadores\index{modo matematico@modo matem\'{a}tico!delimitadores}. Uma lista completa dos delimitadores dispon\'{i}veis no LaTeX encontra-se na Tabela~\ref{tab:math_delimiter}.
\begin{table}[h!tb]
    \centering
    \caption{Delimitadores disponíveis no LaTeX.}
    \label{tab:math_delimiter}
    \input{tables/math_delimiter@latex_with_vim.tex}
\end{table}

Para expressões matemáticas no modo \flang{displayed} ou longas é aconselável utilizar os comandos \lstinline!\left! e \lstinline!\right! anteriormente ao limitador para ajustá-lo verticalmente. \\
\example{codes/math_delimiters_sizes@latex_with_vim.tex}

\subsection{Textos e espa\c{c}amentos} \label{sss:math:textos_e_espacamentos}
Existem tr\^{e}s ocasi\~{o}es em que \'{e} preciso inserir um texto\index{modo matematico@modo matem\'{a}tico!texto} dentro de uma express\~{a}o matem\'{a}tica:
\begin{itemize}
    \item um operador matem\'{a}tico \'{e} representado pelas primeiras letras de seu nome, e.g., $\max$, $\min$, $\lim$, \ldots;
    \item uma vari\'{a}vel \'{e} representada por mais de uma letra;
    \item incluir uma explica\c{c}\~{a}o/justificativa.
\end{itemize}

O LaTeX j\'{a} possue v\'{a}rios operadores matem\'{a}ticos definidos (s\~{a}o apresentados mais a frente) e quando o operador desejado n\~{a}o estiver definido deve-se utilizar o comando \lstinline!\operatorname!\index{modo matematico@modo matem\'{a}tico!novos operadores} ou \lstinline!\DeclareMathOperator!, este \'{u}ltimo quando o operador for ser utilizado v\'{a}rias vezes no documento. 

Em rela\c{c}\~{a}o ao nome de vari\'{a}veis\index{modo matematico@modo matem\'{a}tico!nomes longos para variaveis@nomes longos para vari\'{a}veis}, deve-se evitar ao m\'{a}ximo nome\'{a}-las com mais de uma letra (utilizar o alfabeto grego para isso). Quando n\~{a}o for poss\'{i}vel evitar, deve-se utilizar o comando \lstinline!\mathrm! para evitar confus\~{o}es. \\
\example{codes/math_var_names@latex_with_vim.tex}

J\'{a} para a inclusão de textos explicativos deve-se utilizar o comando \lstinline!\text!\index{comando!text@\lstinline+\text+} e \lstinline!\intertext!, este \'{u}ltimo reservado apenas para express\~{o}es \flang{displayed}. \\
\example{codes/math_text@latex_with_vim.tex}

Quanto ao espa\c{c}amento\index{modo matematico@modo matem\'{a}tico!espacamento@espa\c{c}amento}, normalmente n\~{a}o \'{e} preciso se preocupar com este pois o LaTeX inclui o espa\c{c}amento adequado. Em raras ocasi\~{o}es deve-se incluir algum espa\c{c}o apresentado na Tabela~\ref{tab:math_spacing}.
\begin{table}[!htb]
    \centering
    \caption{Espa\c{c}amento no modo matem\'{a}tico.}
    \input{tables/math_spacing@latex_with_vim.tex}
    \label{tab:math_spacing}
\end{table}

\subsection{Matrizes}
Para a construção de matrizes\index{modo matematico@modo matem\'{a}tico!matrizes} (e vetores\index{modo matematico@modo matem\'{a}tico!vetores|see{matrizes}}) utiliza-se o ambiente \envname{matrix} onde as colunas são separadas por \lstinline!&! e as linhas por \lstinline!\\!. \\
\example{codes/math_matrix@latex_with_vim.tex}

Destaca-se que o ambiente \envname{matrix} só pode ser utilizado dentro do ambiente matemático e que na última linha não utiliza-se o comando \lstinline!\\!\index{comando! @\lstinline+\\+}.

Pode-se utilizar limitadores envolvendo o ambiente \envname{matrix} ou utilizar uma variante: \envname{pmatrix}, \envname{bmatrix}, \envname{Bmatrix}, \envname{vmatrix} ou \envname{Vmatrix} que corresponde, respectivamente, aos delimitadores $( )$, $[ ]$, $\{ \}$, $| |$ e $\| \|$. \\

\section{Comandos avan\c{c}ados no modo matem\'{a}tico}
\subsection{Equações, numera\c{c}\~{a}o e referenciação} \label{sse:latex:equation}
Para o uso de expressões matemáticas a serem referenciadas\index{modo matematico@modo matem\'{a}tico!numeracao@numera\c{c}\~{a}o} posteriormente, recomenda-se o ambiente \envname{equation}\index{ambiente!equation@\envname{equation}} em conjunto com o comando \lstinline!\label!\index{comando!label@\lstinline+\label+}. \\
\example{codes/math_equation@latex_with_vim.tex}

No exemplo acima, \lcode{E:TeoPit} correspondente ao parâmetro do comando \lstinline!\label!, como apresentado na Seção~\ref{sse:cross_reference}. A referência a equação ocorre pelo comando \lstinline!\eqref!. \\
\example{codes/math_equation_eqref@latex_with_vim.tex}

\subsection{\flang{Tags}}
O comando \lstinline!\tag!\index{comando!tag@\lstinline+\tag+} do LaTeX nomeia uma equação\index{modo matematico@modo matem\'{a}tico!tag@\flang{tag}} e a referência passa a ser feito por este. \\
\example{codes/math_equation_tag@latex_with_vim.tex}

Vale destacar que podemos utilizar o comando \lstinline!\label! como parâmetro do comando \lstinline!\tag!.

\subsection{Teorema}
O comando \lstinline{\newtheorem}\index{modo matematico@modo matem\'{a}tico!teorema} deve ser inserido no \textit{preâmbulo} e é responsável por criar um ambiente numerado para informações. Sua síntaxe é
\begin{code}
\newtheorem{nome}{texto}
\end{code}
onde \lcode{nome} é o nome do ambiente a ser criado e \lcode{texto} é a sequência de caracteres que precede a numeração. Caso deseje-se não numerar deve-se utilizar a síntaxe
\begin{code}
\newtheorem*{nome}{texto}
\end{code}

Para fazer uso do novo ambiente deve-se utilizar a síntaxe padrão para um ambiente
\begin{code}
\begin{nome}
    ...
\end{nome}
\end{code}
ou ainda
\begin{code}
\begin{nome}[XXX]
    ...
\end{nome}
\end{code}
onde \lcode{XXX} é uma sequ\^{e}ncia de caracteres que aparece entre parênteses logo após a numeração.

\subsection{Demonstra\c{c}\~{a}o}
O ambiente \envname{proof} é destinada a demonstrações\index{modo matematico@modo matem\'{a}tico!demonstracao@demonstra\c{c}\~{a}o} e caracterizado por terminar com o comando \lstinline!\qed!. \\
\example{codes/math_proof@latex_with_vim.tex}

O ambiente \envname{proof}, como podemos observar no exemplo abaixo, não trabalha adequadamente quando é finalizado com uma expressão matemática \flang{displayed} e para corrigir isso devemos informar onde onde ser\'{a} inserido o s\'{i}mbolo \flang{qed}. \\
\example{codes/math_proof_set_qed@latex_with_vim.tex}

\subsection{Alinhamento}
O ambiente \envname{equation} foi projetado para trabalhar apenas com equações de uma única linha, nesta seção vamos apresentar algumas formas de trabalhar com equações com várias linhas\index{modo matematico@modo matem\'{a}tico!multiplas equacoes@m\'{u}ltiplas equa\c{c}\~{o}es}.

Para multiplas equações alinhadas utilizamos o ambiente \envname{align}\index{ambiente!align@\envname{align}}, sendo cada linha separada pelo comando \lstinline!\\!\index{comando! @\lstinline+\\+} e o alinhamento por \lstinline!&!\index{comando! @\lstinline+&+}. \\
\example{codes/math_align@latex_with_vim.tex}

Quando o alinhamento ocorrer adjacente a um sinal de \lstinline!=!, \lstinline!+!, \dots devemos utilizar o comando \lstinline!&! antes do sinal.

O ambiente \envname{align} numera todas as equações. Caso não queira numerar uma ou mais equações deve-se utilizar o comando \lstinline!\notag! em cada linha correspondente.

O comando \lstinline!\label! deve estar presente em cada linha.

Quando desejar adicionar a alguma linha alguma anotação utiliza-se o comando \lstinline!&&! entre a equação e a anotação. \\
\example{codes/math_align_annotation@latex_with_vim.tex}

\subsection{Fórmulas longas}
Para fórmulas muito longas\index{modo matematico@modo matem\'{a}tico!formulas longas@f\'{o}rmulas longas} que extrapolam a largura da caixa de texto deve-se utilizar o ambiente \envname{multline}, para uma \'{u}nica equa\c{c}\~{a}o, ou \envname{split}, este \'{u}ltimo deve ser utilizado dentro de um outro ambiente matem\'{a}tico.

\subsection{Ocultando termos}
Ao trabalhar com fórmulas muito longas tenta-se diminuir o tamanho utilizando sequências e muitas vezes é aconcelhável indicar o número de termos. Para isso podemos utilizar os comandos \lstinline!\overbrace! ou \lstinline!\underbrace!. \\
\example{codes/math_underbrace@latex_with_vim.tex}

\subsection{Funções definidas por partes}
É relativamente comum definirmos uma equações por partes e o ambiente adequado para representar esta construção é o \envname{cases}\index{modo matematico@modo matem\'{a}tico!funcoes definidas por partes@fun\c{c}\~{o}es definidas por partes}. \\
\example{codes/math_cases@latex_with_vim.tex}

O ambiente \envname{cases}\index{modo matematico@modo matem\'{a}tico!sistemas de equacoes@sistemas de equa\c{c}\~{o}es} tamb\'{e}m pode ser utilizado para sistemas de equa\c{c}\~{o}es.

\subsection{Fonte e S\'{i}mbolos}
No modo matemático, o LaTeX classifica os caracteres em alfabeto matemático e símbolos matemáticos. Baseado nessa classificação escolhe uma fonte a ser usada.

Para alterar a fonte de caracteres do alfabeto matemático utiliza-se o comando \lstinline!\mathXX! sendo que \lcode{XX} corresponde ao código da fonte a ser utilizada. A Tabela~\ref{tab:op_amfonte} apresenta alguns das opções disponíveis.
\begin{table}[h!tb]
    \centering
    \caption{Opções disponíveis para \lcode{XX} da fonte para o alfabeto matemático.}
    \label{tab:op_amfonte}
    \input{tables/math_op_amfonte@latex_with_vim.tex}
\end{table}

A seguir é ilustrado as opções apresentadas na Tabela \ref{tab:op_amfonte}. \\
\example{codes/math_op_amfonte@latex_with_vim.tex}

Para símbolos matemáticos apenas é possível apresentá-los em negrito e, para isso, utiliza-se o comando \lstinline!\boldsymbol!. \\
\example{codes/math_boldsymbol@latex_with_vim.tex}

No LaTeX também existe quatro alfabetos que são interpretados como símbolos. Um deles é o alfabeto grego, apresentado no capítulo anterior e os outros três são acessados com o comando \lstinline!\mathXX!, sendo que \lcode{XX} corresponde ao código da fonte a ser utilizada. A Tabela~\ref{tab:op_asfonte} apresenta as opções disponíveis.
\begin{table}[h!tb]
    \centering
    \caption{Opções disponíveis para \lcode{XX} da fonte para o alfabeto matemático interpretado como símbolo.}
    \label{tab:op_asfonte}
    \input{tables/math_op_asfonte@latex_with_vim.tex}
\end{table}

A seguir é ilustrado as opções apresentadas na Tabela~\ref{tab:op_asfonte}. \\
\example{codes/math_op_asfonte@latex_with_vim.tex}

Destaca-se que a fonte blackboard bold é normalmente utilizada para representar os conjuntos dos números naturais ($\mathbb{N}$), inteiros ($\mathbb{Z}$), reais ($\mathbb{R}$) e complexos ($\mathbb{C}$).

\section{S\'{i}mbolos e operadores}
A seguir apresentaremos v\'{a}rios dos s\'{i}mbolos e operadores dispon\'{i}veis no LaTeX. Para uma lista completa recomenda-se ``The Comprehensive LaTeX Symbol List''\nocite{Pakin:2009:Symbol}. Ao final, abordamos os comandos para ra\'{i}z quadrada, binomial e congru\^{e}ncias.
\begin{table}[h!tb]
    \centering
    \caption{Setas}
    \label{tab:math_arrows}
    \input{tables/math_arrows@latex_with_vim.tex}
\end{table}
\begin{table}[!htbp]
    \caption{Relações binárias} \centering
    \label{tab:math_binary_relations}
    \input{tables/math_binary_relations@latex_with_vim.tex}
\end{table}
\begin{table}[!htb]
    \centering
    \caption{Operadores binários}
    \label{tab:math_binary_operations}
    \input{tables/math_binary_operations@latex_with_vim.tex}
\end{table}
\begin{table}[!htb]
    \centering
    \caption{Operadores puros.}
    \label{tab:math_functions1}
    \input{tables/math_functions1@latex_with_vim.tex}
\end{table}
\begin{table}[!htb]
    \centering
    \caption{Operadores com intervalos.}
    \label{tab:math_functions2}
    \input{tables/math_functions2@latex_with_vim.tex}
\end{table}
\begin{table}[!htb]
    \centering
    \caption{Operadores similares ao limites.}
    \label{tab:math_functions3}
    \input{tables/math_functions3@latex_with_vim.tex}
\end{table}
\begin{table}[!htb]
    \centering
    \caption{Outros símbolos matemáticos}
    \label{tab:math_others}
    \input{tables/math_others@latex_with_vim.tex}
\end{table}
\begin{table}[h!tb]
    \centering
    \caption{Alfabeto Grego, letras minúsculas}
    \label{tab:math_greek}
    \input{tables/math_greek@latex_with_vim.tex}
\end{table}
\begin{table}[!tb]
    \centering
    \caption{Alfabeto Grego, letras maiúsculo}
    \label{tab:math_greek_capital}
    \input{tables/math_greek_capital@latex_with_vim.tex}
\end{table}

\subsection{Raiz quadrada}
Utiliza-se o comando \lstinline!\sqrt! para raiz quadrada\index{modo matematico@modo matem\'{a}tico!raiz quadrada}. \\
\example{codes/math_sqrt@latex_with_vim.tex}

\subsection{Binomial}
Utiliza-se o comando \lstinline!\binom! para os bin\^{o}mios\index{modo matematico@modo matem\'{a}tico!binomio@bin\^{o}mio}. \\
\example{codes/math_binom@latex_with_vim.tex}

\subsection{Congruências}
A forma mais comum para congruências\index{modo matematico@modo matem\'{a}tico!congruencia@congru\^{e}ncia} corresponde ao uso dos comandos \lstinline!\equiv! e \lstinline!\pmod!. \\
\example{codes/math_mod@latex_with_vim.tex}
